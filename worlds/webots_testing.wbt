#VRML_SIM R2023b utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/floors/protos/RectangleArena.proto"

WorldInfo {
}
Viewpoint {
  orientation 0.17219952538386765 -0.48222516201285265 -0.8589564695485148 5.199692586659243
  position -1.1873713904670116 -2.082743859772334 1.5845052272632494
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  translation 0 0 -0.11
  floorSize 5 5
}
DEF BF Robot {
  translation 0 0 0.3
  children [
    Gyro {
    }
    Accelerometer {
    }
    InertialUnit {
    }
    DEF Body Shape {
      appearance PBRAppearance {
        baseColor 0.792157 0.819608 0.933333
        roughness 1
      }
      geometry Mesh {
        url [
          "../BFG3_model_3/meshes/base_link.obj"
        ]
      }
      castShadows FALSE
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 -1 0
        anchor 0.055 0.1625 0
      }
      device [
        DEF LF_motor RotationalMotor {
          name "LF_motor"
          maxTorque 30
        }
        PositionSensor {
          name "LF_encoder"
        }
      ]
      endPoint DEF LF_upper_soild Solid {
        translation 0.055 0.1625 0
        rotation -1 -2.747656756347831e-16 -3.925223937639759e-17 1.5707999999999998
        children [
          DEF LF_upper Shape {
            appearance PBRAppearance {
              roughness 1
            }
            geometry Mesh {
              url [
                "../BFG3_model_3/meshes/LF_upper.obj"
              ]
            }
          }
          HingeJoint {
            jointParameters HingeJointParameters {
              axis 0 0 -1
              anchor 0.13841 -0.057823 0.005
            }
            endPoint DEF LF_lower_soild Solid {
              translation 0.138407 -0.057823 0.005
              rotation 0 0 -1 0
              children [
                DEF LF_lower Shape {
                  appearance PBRAppearance {
                    roughness 1
                  }
                  geometry Mesh {
                    url [
                      "../BFG3_model_3/meshes/LF_below.obj"
                    ]
                  }
                }
                HingeJoint {
                  jointParameters HingeJointParameters {
                    axis 0 0 -1
                    anchor -0.193407 0.158410 -0.000500
                  }
                  device [
                    DEF L_motor RotationalMotor {
                      name "L_motor"
                    }
                    DEF L_encoder PositionSensor {
                      name "L_encoder"
                    }
                  ]
                  endPoint DEF L_wheel_solid Solid {
                    translation -0.193407 0.158410 -0.000500
                    rotation 0 0 -1 0
                    children [
                      DEF L_wheel Shape {
                        appearance PBRAppearance {
                        }
                        geometry Mesh {
                          url [
                            "../BFG3_model_3/meshes/L_wheel.obj"
                          ]
                        }
                      }
                      HingeJoint {
                        jointParameters HingeJointParameters {
                          axis 0 0 -1
                        }
                        endPoint DEF LB_below_solid Solid {
                          rotation 0 0 -1 0
                          children [
                            DEF LB_below Shape {
                              appearance PBRAppearance {
                                roughness 1
                              }
                              geometry Mesh {
                                url [
                                  "../BFG3_model_3/meshes/LB_below.obj"
                                ]
                              }
                            }
                            HingeJoint {
                              jointParameters HingeJointParameters {
                                axis 0 0 -1
                                anchor -0.193407 -0.158410 0.033500
                              }
                              endPoint DEF LB_upper_solid Solid {
                                translation  -0.193407 -0.158410 0.033500
                                rotation 0 0 -1 0
                                children [
                                  DEF LB_upper Shape {
                                    appearance PBRAppearance {
                                      roughness 1
                                    }
                                    geometry Mesh {
                                      url [
                                        "../BFG3_model_3/meshes/LB_upper.obj"
                                      ]
                                    }
                                  }
                                  HingeJoint {
                                    jointParameters HingeJointParameters {
                                      axis 0 0 -1
                                      anchor 0.138407 0.057823 0.000000
                                    }
                                    device [
                                      DEF LB_motor RotationalMotor {
                                        name "LB_motor"
                                        maxTorque 30
                                      }
                                      DEF LB_encoder PositionSensor {
                                        name "LB_encoder"
                                      }
                                    ]
                                    endPoint SolidReference {
                                      solidName "robot"
                                    }
                                  }
                                ]
                                boundingObject USE LB_upper
                                physics Physics {
                                }
                              }
                            }
                          ]
                          boundingObject USE LB_below
                          physics Physics {
                          }
                        }
                      }
                    ]
                    boundingObject USE L_wheel
                    physics Physics {
                    }
                  }
                }
              ]
              boundingObject USE LF_lower
              physics Physics {
              }
            }
          }
        ]
        boundingObject USE LF_upper
        physics Physics {
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 1 0
        anchor 0.055 -0.2005 0
      }
      device [
        DEF RF_motor RotationalMotor {
          name "RF_motor"
          maxTorque 30
        }
        DEF RF_encoder PositionSensor {
          name "RF_encoder"
        }
      ]
      endPoint DEF RF_upper_solid Solid {
        translation 0.055 -0.2005 0
        rotation 1.000000 0.000000 0.000000 1.570796
        children [
          DEF RF_upper Shape {
            appearance PBRAppearance {
              roughness 1
            }
            geometry Mesh {
              url [
                "../BFG3_model_3/meshes/RF_upper.obj"
              ]
            }
          }
          HingeJoint {
            jointParameters HingeJointParameters {
              axis 0 0 1
              anchor 0.138407 0.057823 -0.015000
            }
            endPoint DEF RF_below_solid Solid {
              translation  0.138407 0.057823 -0.015000
              children [
                DEF RF_below Shape {
                  appearance PBRAppearance {
                  }
                  geometry Mesh {
                    url [
                      "../BFG3_model_3/meshes/RF_below.obj"
                    ]
                  }
                }
                HingeJoint {
                  jointParameters HingeJointParameters {
                    axis 0 0 -1
                    anchor -0.193407 -0.15841 0
                  }
                  device [
                    DEF R_motor RotationalMotor {
                      name "R_motor"
                    }
                    DEF R_encoder PositionSensor {
                      name "R_encoder"
                    }
                  ]
                  endPoint DEF R_wheel Solid {
                    translation -0.193407 -0.15841 0
                    children [
                      DEF R_wheel Shape {
                        appearance PBRAppearance {
                        }
                        geometry Mesh {
                          url [
                            "../BFG3_model_3/meshes/R_wheel.obj"
                          ]
                        }
                      }
                      HingeJoint {
                        jointParameters HingeJointParameters {
                          axis 0 0 -1
                        }
                        endPoint DEF RB_below Solid {
                          children [
                            DEF RB_below Shape {
                              appearance PBRAppearance {
                              }
                              geometry Mesh {
                                url [
                                  "../BFG3_model_3/meshes/RB_below.obj"
                                ]
                              }
                            }
                            HingeJoint {
                              jointParameters HingeJointParameters {
                                axis 0 0 -1
                                anchor -0.193407 0.15841 0
                              }
                              endPoint DEF RB_upper_solid Solid {
                                translation -0.193407 0.158410 0.000000
                                children [
                                  DEF RB_upper Shape {
                                    appearance PBRAppearance {
                                    }
                                    geometry Mesh {
                                      url [
                                        "../BFG3_model_3/meshes_stl/RB_upper.stl"
                                      ]
                                    }
                                  }
                                  HingeJoint {
                                    jointParameters HingeJointParameters {
                                      axis 0 0 -1
                                      anchor 0.138407 -0.057823 0
                                    }
                                    device [
                                      DEF RB_motor RotationalMotor {
                                        name "RB_motor"
                                        maxTorque 30
                                      }
                                      PositionSensor {
                                        name "RB_encoder"
                                      }
                                    ]
                                    endPoint SolidReference {
                                      solidName "robot"
                                    }
                                  }
                                ]
                                boundingObject USE RB_upper
                                physics Physics {
                                }
                              }
                            }
                          ]
                          boundingObject USE RB_below
                          physics Physics {
                          }
                        }
                      }
                    ]
                    boundingObject USE R_wheel
                    physics Physics {
                    }
                  }
                }
              ]
              boundingObject USE RF_below
              physics Physics {
              }
            }
          }
        ]
        name "solid(1)"
        boundingObject USE RF_upper
        physics Physics {
        }
      }
    }
  ]
  boundingObject Box {
    size 0.5 0.36 0.2
  }
  physics Physics {
  }
  locked TRUE
  controller "balance_controller"
}
